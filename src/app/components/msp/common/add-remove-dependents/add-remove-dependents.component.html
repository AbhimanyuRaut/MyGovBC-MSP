<button type="button" class="btn btn-default btn-xs pull-right" (click)="cancelDependentRemoval()" [innerHTML]="lang('./en/index.js').clearButton[person.relationship]">
</button>

<h2 [innerHTML]="lang('./en/index.js').sectionTitle[person.relationship]"></h2>
<p [innerHTML]="lang('./en/index.js').sectionBody[person.relationship]"></p>
<label [innerHtml]="lang('./en/index.js').isExistingBeneficiaryQuestion[person.relationship]"></label>
<msp-toggle [(data)]="person.isExistingBeneficiary"></msp-toggle>

<!-- We only want this section to show if value is true or false, but NOT truthy
or falsy.  It only appears once the user has selected either option in the
toggle. -->
<ng-container *ngIf="person.isExistingBeneficiary===true || person.isExistingBeneficiary===false">

  <msp-status-in-canada-radio 
    *ngIf="person.isExistingBeneficiary===false" 
    [person]='person'>
  </msp-status-in-canada-radio>

  

  <!-- msp-status-in-canada-radio is visible, user must make a selection first before displaying this section. -->
  <ng-container *ngIf="
    person.isExistingBeneficiary!==false || 
    (person.status || person.status === 0)"> <!-- dependent form container -->

    <!-- todo - need to hide the trailing <hr> in msp-account-person-details but only for here, not affect other layouts. -->
    <msp-account-personal-details [person]='person' [id]='person.id' (onChange)="change($event)" embedded=true></msp-account-personal-details>
  
    <!-- TODO - These fields should ONLY show if Spouse? But hide for others?
    If so, remove the [person.relationship] stuff. It's just noise. -->
    <div class="row" *ngIf="person.relationship === Relationship.Spouse">
      <div class="col-md-4">
        <label for='addSpousePreviousLastName' [innerHTML]="lang('./en/index.js').previousName"></label>
        <input type="text" name="spousePrevLastname" class="form-control" id='addSpousePreviousLastName' [(ngModel)]="person.prevLastName">
      </div>
      <div class="col-md-4">
        <msp-date
          [label]="lang('./en/index.js').marriageDate"
          [showError]='showError'
          [(date)]="person.marriageDate"
        ></msp-date>
      </div>
    </div>

    <!-- TODO Add fields based on peron's status!
      fields must be i18n based on relationship, e.g.: 
          ['Has your spouse lived in B.C. since birth?',
          'Has your child lived in B.C. since birth?']
    -->
  
  </ng-container> <!-- end dependent form container -->

</ng-container>



<hr class='strong-hr'>

<pre style='max-width: 600px'>
  PERSON:
  
  {{person | json}}
</pre>